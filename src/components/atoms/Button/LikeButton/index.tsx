import { cn } from '@/lib/utils';

export interface LikeButtonProps {
  liked: boolean;
  onLike?: (liked: boolean) => void;
}

export function LikeButton({ liked, onLike }: LikeButtonProps) {
  return (
    <button
      className={cn(
        'like-button group relative transition-all duration-300 ease-in-out  m-2 w-8 h-8 p-[6px] cursor-pointer rounded-full bg-ds-grey-8op border border-ds-grey-12op backdrop-blur-[20px] flex items-center justify-center',
        liked && 'liked',
      )}
      onClick={() => {
        onLike?.(!liked);
      }}
    >
      <svg
        width={20}
        height={20}
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="text-white w-5 h-5 overflow-visible"
        //   className={styles(size, className)}
      >
        <g
          className="particles opacity-0 scale-0 group-[.liked]:animate-burst 
                 [--burst-size:30px]"
        >
          <circle
            cx="10"
            cy="10"
            r="1"
            className="fill-ds-heart-red origin-center translate-x-[var(--burst-size)]"
          />
          <circle
            cx="10"
            cy="10"
            r="1"
            className="fill-ds-heart-red origin-center -translate-x-[var(--burst-size)]"
          />
          <circle
            cx="10"
            cy="10"
            r="1"
            className="fill-ds-heart-red origin-center translate-y-[var(--burst-size)]"
          />
          <circle
            cx="10"
            cy="10"
            r="1"
            className="fill-ds-heart-red origin-center -translate-y-[var(--burst-size)]"
          />
          <circle
            cx="10"
            cy="10"
            r="1"
            className="fill-ds-heart-red origin-center translate-x-[calc(var(--burst-size)*0.7)] translate-y-[calc(var(--burst-size)*0.7)]"
          />
          <circle
            cx="10"
            cy="10"
            r="1"
            className="fill-ds-heart-red origin-center -translate-x-[calc(var(--burst-size)*0.7)] -translate-y-[calc(var(--burst-size)*0.7)]"
          />
        </g>

        <path
          className="heart-fill fill-ds-heart-red scale-0 origin-center transition-all duration-300 ease-like-bezier 
               group-[.liked]:scale-100 group-[.liked]:animate-pop"
          d="M5.97331 2.3999C8.926 2.42478 9.95799 4.81041 9.96415 4.82473C9.97436 4.80015 10.9684 2.4249 13.9104 2.42432C17.3089 2.44867 19.0083 5.08269 19 8.14702L18.9719 8.5982C18.8768 9.75946 18.5024 11.6609 16.1999 13.7301C14.6883 15.1023 13.0821 15.928 11.122 18.1578L11.0696 18.2116C11.0483 18.2337 11.0272 18.2563 11.0047 18.277L10.8972 18.3659C10.8603 18.3937 10.8226 18.4201 10.7838 18.445L10.7364 18.4772L10.6172 18.5407C10.5764 18.5596 10.5343 18.5765 10.4922 18.5924C10.4723 18.6 10.4523 18.6081 10.4321 18.6149L10.2732 18.6598L10.2122 18.6696C10.1782 18.6756 10.1439 18.6824 10.1095 18.6862L10.0339 18.6901C10.0057 18.6918 9.94977 18.6957 9.94671 18.6959L9.94187 18.695L9.93702 18.6959L9.84982 18.6901L9.77328 18.6862C9.73906 18.6824 9.70531 18.6756 9.67155 18.6696L9.60954 18.6598C9.57223 18.6516 9.53562 18.6394 9.49909 18.6286L9.44967 18.6149L9.3896 18.5924C9.3057 18.5605 9.22393 18.5231 9.14641 18.4772C9.13 18.4675 9.115 18.4553 9.09894 18.445C9.06007 18.42 9.02162 18.3938 8.98461 18.3659L8.87803 18.277C8.85573 18.2564 8.83529 18.2335 8.81408 18.2116L8.76176 18.1578C6.80151 15.9279 5.19942 15.039 3.68772 13.6666C1.32327 11.5774 1.0813 9.73936 1.02038 8.59429L1.00003 8.14702C0.991418 4.98382 2.87942 2.42486 5.97331 2.3999Z"
        />

        <path
          className="heart-outline fill-white scale-100 origin-center transition-all duration-300 ease-like-bezier
               group-[.liked]:scale-0"
          d="M5.97331 2.3999C8.926 2.42478 9.95799 4.81041 9.96415 4.82473C9.97436 4.80015 10.9684 2.4249 13.9104 2.42432C17.3089 2.44867 19.0083 5.08269 19 8.14702L18.9719 8.5982C18.8768 9.75946 18.5024 11.6609 16.1999 13.7301C14.6883 15.1023 13.0821 15.928 11.122 18.1578L11.0696 18.2116C11.0483 18.2337 11.0272 18.2563 11.0047 18.277L10.8972 18.3659C10.8603 18.3937 10.8226 18.4201 10.7838 18.445L10.7364 18.4772L10.6172 18.5407C10.5764 18.5596 10.5343 18.5765 10.4922 18.5924C10.4723 18.6 10.4523 18.6081 10.4321 18.6149L10.2732 18.6598L10.2122 18.6696C10.1782 18.6756 10.1439 18.6824 10.1095 18.6862L10.0339 18.6901C10.0057 18.6918 9.94977 18.6957 9.94671 18.6959L9.94187 18.695L9.93702 18.6959L9.84982 18.6901L9.77328 18.6862C9.73906 18.6824 9.70531 18.6756 9.67155 18.6696L9.60954 18.6598C9.57223 18.6516 9.53562 18.6394 9.49909 18.6286L9.44967 18.6149L9.3896 18.5924C9.3057 18.5605 9.22393 18.5231 9.14641 18.4772C9.13 18.4675 9.115 18.4553 9.09894 18.445C9.06007 18.42 9.02162 18.3938 8.98461 18.3659L8.87803 18.277C8.85573 18.2564 8.83529 18.2335 8.81408 18.2116L8.76176 18.1578C6.80151 15.9279 5.19942 15.039 3.68772 13.6666C1.32327 11.5774 1.0813 9.73936 1.02038 8.59429L1.00003 8.14702C0.991418 4.98382 2.87942 2.42486 5.97331 2.3999ZM5.97138 4.10011C4.93081 4.11255 4.1581 4.53137 3.61892 5.18411C3.05749 5.86381 2.68701 6.8819 2.68686 8.12456C2.71528 8.70389 2.72093 9.20727 2.94458 9.85504C3.15297 10.4585 3.58736 11.2615 4.59072 12.1988L4.79903 12.3883L4.80775 12.3951L4.81647 12.4029L5.08097 12.6373C5.69571 13.1695 6.30432 13.6141 7.10982 14.2633C7.96926 14.956 8.91005 15.7779 9.94187 16.9391C10.9803 15.7713 11.9288 14.9606 12.7923 14.2818C13.7157 13.5561 14.3735 13.0998 15.0711 12.4664L15.0779 12.4605L15.4723 12.0865C16.3301 11.2264 16.7601 10.459 16.9895 9.85016C17.2459 9.16975 17.2858 8.60485 17.3122 8.10991C17.3095 6.89179 16.9698 5.89062 16.4276 5.22317C15.9146 4.5917 15.1264 4.13457 13.9036 4.12453C12.9359 4.12655 12.3555 4.50221 11.9998 4.84817C11.8107 5.03209 11.6782 5.2162 11.5967 5.34817C11.5567 5.41304 11.5308 5.4618 11.5182 5.48684L11.5173 5.4888L11.5202 5.48001L11.5211 5.47903C11.5211 5.47903 11.5207 5.47905 11.5163 5.47708L10.9703 6.47123H8.90532L8.41878 5.49856L8.41684 5.50051V5.50247L8.41878 5.5054L8.42072 5.51028C8.42201 5.51324 8.4227 5.51603 8.42362 5.51809L8.41781 5.50637C8.40431 5.48026 8.37731 5.42987 8.33546 5.36379C8.25007 5.22901 8.11145 5.04094 7.91496 4.85207C7.54255 4.49415 6.94395 4.11143 5.97138 4.10011Z"
        />
      </svg>
    </button>
  );
}
